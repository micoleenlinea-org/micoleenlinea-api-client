{"version":3,"sources":["../../src/queries/course.ts","../../src/config/axios.ts","../../src/mutations/course.ts","../../src/config/mock.ts","../../src/queries/notification.ts","../../src/queries/provinces.ts","../../src/queries/staff.ts","../../src/queries/student.ts","../../src/mutations/student.ts","../../src/queries/superadminDashboard.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport { type ApiError } from '../types/apiError';\nimport { type GetCourseResponse } from '../types/course';\nimport { getMockCoursesStorage } from '../mutations/course';\nimport { MOCK_MODE } from '../config/mock';\n\nconst getCoursesMock = async (): Promise<GetCourseResponse[]> => {\n  // Simular delay de red\n  await new Promise((resolve) => setTimeout(resolve, 500));\n  \n  // Retornar cursos del storage mock\n  return getMockCoursesStorage();\n};\n\nconst getCourses = async () => {\n  // И MODO TESTING\n  if (MOCK_MODE) {\n    return getCoursesMock();\n  }\n  \n  // PRODUCCIN\n  const { data } = await apiClient.get('/courses');\n  return data;\n};\n\nexport const useGetCoursesQuery = () => {\n  return useQuery<GetCourseResponse[], ApiError>({\n    queryKey: ['courses'],\n    queryFn: getCourses,\n    placeholderData: (prev) => prev,\n  });\n};\n","import axios, { InternalAxiosRequestConfig } from 'axios';\n\n/**\n * StorageAdapter: Interfaz que abstrae el almacenamiento de tokens.\n * - Web usa localStorage (s铆ncrono)\n * - Mobile usa AsyncStorage (as铆ncrono)\n */\nexport interface StorageAdapter {\n  getItem: (key: string) => Promise<string | null> | string | null;\n  setItem: (key: string, value: string) => Promise<void> | void;\n  removeItem: (key: string) => Promise<void> | void;\n}\n\n/**\n * Adapter por defecto que usa localStorage (solo funciona en web)\n */\nconst defaultStorageAdapter: StorageAdapter = {\n  getItem: (key: string) => {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      return window.localStorage.getItem(key);\n    }\n    return null;\n  },\n  setItem: (key: string, value: string) => {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      window.localStorage.setItem(key, value);\n    }\n  },\n  removeItem: (key: string) => {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      window.localStorage.removeItem(key);\n    }\n  },\n};\n\n// Storage adapter configurable (se puede cambiar en runtime)\nlet storageAdapter: StorageAdapter = defaultStorageAdapter;\n\n// Callback opcional para manejar logout (401)\nlet onUnauthorizedCallback: (() => void) | null = null;\n\n/**\n * Configura el adaptador de almacenamiento.\n * - Web: no necesita llamar esto (usa localStorage por defecto)\n * - Mobile: debe llamar esto con AsyncStorage\n *\n * @example\n * // En mobile (App.tsx o similar):\n * import AsyncStorage from '@react-native-async-storage/async-storage';\n * import { configureStorage } from '@micoleenlinea/api-client';\n *\n * configureStorage({\n *   getItem: (key) => AsyncStorage.getItem(key),\n *   setItem: (key, value) => AsyncStorage.setItem(key, value),\n *   removeItem: (key) => AsyncStorage.removeItem(key),\n * });\n */\nexport const configureStorage = (adapter: StorageAdapter) => {\n  storageAdapter = adapter;\n};\n\n/**\n * Configura un callback que se ejecuta cuando se recibe un 401 (token inv谩lido/expirado)\n * til para redirigir al login o limpiar estado de la app.\n *\n * @example\n * configureOnUnauthorized(() => {\n *   navigation.reset({ index: 0, routes: [{ name: 'Login' }] });\n * });\n */\nexport const configureOnUnauthorized = (callback: () => void) => {\n  onUnauthorizedCallback = callback;\n};\n\n// Funci贸n para obtener la URL base dependiendo del entorno\nconst getBaseURL = () => {\n  // Para web (Vite) - usar import.meta.env\n  if (typeof window !== 'undefined') {\n    // @ts-ignore - import.meta.env solo est谩 disponible en tiempo de build de Vite\n    return import.meta.env?.VITE_API_URL || 'http://localhost:8000/api';\n  }\n  // Para mobile (Expo) o Node\n  return process.env.EXPO_PUBLIC_API_URL || 'http://localhost:8000/api';\n};\n\nexport const apiClient = axios.create({\n  baseURL: getBaseURL(),\n  timeout: 10000,\n});\n\n// Funci贸n para configurar la base URL desde la app\nexport const configureApiBaseURL = (url: string) => {\n  apiClient.defaults.baseURL = url;\n};\n\n// Token en memoria para acceso r谩pido (se sincroniza con storage)\nlet cachedToken: string | null = null;\n\n/**\n * Guarda el token de autenticaci贸n tanto en memoria como en storage.\n * Usar esta funci贸n despu茅s del login.\n */\nexport const setAuthToken = async (token: string): Promise<void> => {\n  cachedToken = token;\n  await storageAdapter.setItem('authToken', token);\n};\n\n/**\n * Obtiene el token de autenticaci贸n.\n * Primero intenta desde memoria (r谩pido), luego desde storage.\n */\nexport const getAuthToken = async (): Promise<string | null> => {\n  if (cachedToken) return cachedToken;\n  const token = await storageAdapter.getItem('authToken');\n  if (token) cachedToken = token;\n  return token;\n};\n\n/**\n * Elimina el token de autenticaci贸n.\n * Usar esta funci贸n durante el logout.\n */\nexport const clearAuthToken = async (): Promise<void> => {\n  cachedToken = null;\n  await storageAdapter.removeItem('authToken');\n};\n\n// Interceptor para agregar el token de autenticaci贸n autom谩ticamente\napiClient.interceptors.request.use(\n  async (config: InternalAxiosRequestConfig) => {\n    // Obtener token (primero de cache, luego de storage)\n    const token = await getAuthToken();\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Interceptor para manejar respuestas de error (ej: token expirado)\napiClient.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    // Si el token es inv谩lido o expirado (401), limpiar token y notificar\n    if (error.response?.status === 401) {\n      await clearAuthToken();\n      // Ejecutar callback de logout si est谩 configurado\n      if (onUnauthorizedCallback) {\n        onUnauthorizedCallback();\n      }\n    }\n    // Transformar el error para que coincida con ApiError\n    // Extraemos response.data para que los hooks reciban el tipo correcto\n    const apiError = error.response?.data || { message: error.message || 'Error de conexi贸n' };\n    return Promise.reject(apiError);\n  }\n);\n","import { useMutation } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport { type ApiError } from '../types/apiError';\nimport { MOCK_MODE } from '../config/mock';\nimport type { UpdateCoursePayload, DeleteCourseResponse } from '../types/course';\n\nexport interface CreateCoursePayload {\n  name: string;\n  description?: string;\n}\n\nexport interface CourseResponse {\n  id: number;\n  name: string;\n  description: string | null;\n  school_id: number;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\n// Re-exportar tipos para conveniencia\nexport type { UpdateCoursePayload, DeleteCourseResponse } from '../types/course';\n\n// Almacenamiento temporal de cursos creados en localStorage (solo para modo mock)\nconst MOCK_STORAGE_KEY = 'mockCoursesStorage';\n\nconst getMockCoursesFromStorage = (): CourseResponse[] => {\n  try {\n    const stored = localStorage.getItem(MOCK_STORAGE_KEY);\n    return stored ? JSON.parse(stored) : [];\n  } catch {\n    return [];\n  }\n};\n\nconst saveMockCoursesToStorage = (courses: CourseResponse[]) => {\n  try {\n    localStorage.setItem(MOCK_STORAGE_KEY, JSON.stringify(courses));\n  } catch (error) {\n    console.error('Error guardando cursos en localStorage:', error);\n  }\n};\n\nconst createCourseMock = async (course: CreateCoursePayload): Promise<CourseResponse> => {\n  // Simular delay de API\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  \n  const mockCoursesStorage = getMockCoursesFromStorage();\n  \n  // Validar duplicado (comparar solo nombre)\n  const duplicate = mockCoursesStorage.find(\n    (c) => c.name.toLowerCase() === course.name.toLowerCase()\n  );\n  \n  if (duplicate) {\n    throw {\n      message: 'El curso ya existe',\n      errors: {\n        name: ['Ya existe un curso con ese nombre.'],\n      },\n    } as ApiError;\n  }\n  \n  // Simular respuesta exitosa\n  const newCourse: CourseResponse = {\n    id: Math.floor(Math.random() * 1000) + 1,\n    name: course.name,\n    description: course.description || null,\n    school_id: 1,\n    is_active: true,\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  };\n  \n  mockCoursesStorage.push(newCourse);\n  saveMockCoursesToStorage(mockCoursesStorage);\n  return newCourse;\n};\n\n// Exportar funci贸n para que otros m贸dulos puedan acceder\nexport const getMockCoursesStorage = () => getMockCoursesFromStorage();\n\nconst createCourseAPI = async (course: CreateCoursePayload): Promise<CourseResponse> => {\n  if (MOCK_MODE) return createCourseMock(course);\n  \n  const response = await apiClient.post<CourseResponse>('/courses', course);\n  return response.data;\n};\n\nexport const useCreateCourse = () => {\n  return useMutation<CourseResponse, ApiError, CreateCoursePayload>({\n    mutationFn: createCourseAPI,\n    onSuccess: () => {},\n    onError: (error) => {\n      console.error('Error al crear curso:', error);\n    },\n  });\n};\n\n// ==================== UPDATE COURSE ====================\n\n// Tipo extendido con id para el payload de mutation\nexport interface UpdateCourseMutationPayload extends UpdateCoursePayload {\n  id: number;\n}\n\nconst updateCourseMock = async (payload: UpdateCourseMutationPayload): Promise<CourseResponse> => {\n  await new Promise((resolve) => setTimeout(resolve, 500));\n\n  const mockCoursesStorage = getMockCoursesFromStorage();\n  const courseIndex = mockCoursesStorage.findIndex((c) => c.id === payload.id);\n\n  if (courseIndex === -1) {\n    throw { message: 'Curso no encontrado' } as ApiError;\n  }\n\n  // Check for duplicate name (excluding current course)\n  if (payload.name) {\n    const duplicate = mockCoursesStorage.find(\n      (c) => c.id !== payload.id && c.name.toLowerCase() === payload.name!.toLowerCase()\n    );\n    if (duplicate) {\n      throw {\n        message: 'Ya existe un curso con ese nombre.',\n        errors: { name: ['Ya existe un curso con ese nombre.'] },\n      } as ApiError;\n    }\n  }\n\n  const updatedCourse: CourseResponse = {\n    ...mockCoursesStorage[courseIndex],\n    ...(payload.name !== undefined && { name: payload.name }),\n    ...(payload.description !== undefined && { description: payload.description }),\n    ...(payload.is_active !== undefined && { is_active: payload.is_active }),\n    updated_at: new Date().toISOString(),\n  };\n\n  mockCoursesStorage[courseIndex] = updatedCourse;\n  saveMockCoursesToStorage(mockCoursesStorage);\n\n  return updatedCourse;\n};\n\nconst updateCourseAPI = async (payload: UpdateCourseMutationPayload): Promise<CourseResponse> => {\n  if (MOCK_MODE) return updateCourseMock(payload);\n\n  const { id, ...data } = payload;\n  const response = await apiClient.patch<CourseResponse>(`/courses/${id}`, data);\n  return response.data;\n};\n\nexport const useUpdateCourse = () => {\n  return useMutation<CourseResponse, ApiError, UpdateCourseMutationPayload>({\n    mutationFn: updateCourseAPI,\n    onError: (error) => {\n      console.error('Error al actualizar curso:', error);\n    },\n  });\n};\n\n// ==================== DELETE COURSE ====================\n\nconst deleteCourseMock = async (id: number): Promise<DeleteCourseResponse> => {\n  await new Promise((resolve) => setTimeout(resolve, 500));\n\n  const mockCoursesStorage = getMockCoursesFromStorage();\n  const courseIndex = mockCoursesStorage.findIndex((c) => c.id === id);\n\n  if (courseIndex === -1) {\n    throw { message: 'Curso no encontrado' } as ApiError;\n  }\n\n  mockCoursesStorage.splice(courseIndex, 1);\n  saveMockCoursesToStorage(mockCoursesStorage);\n\n  return { message: 'Curso eliminado exitosamente' };\n};\n\nconst deleteCourseAPI = async (id: number): Promise<DeleteCourseResponse> => {\n  if (MOCK_MODE) return deleteCourseMock(id);\n\n  const response = await apiClient.delete<DeleteCourseResponse>(`/courses/${id}`);\n  return response.data;\n};\n\nexport const useDeleteCourse = () => {\n  return useMutation<DeleteCourseResponse, ApiError, number>({\n    mutationFn: deleteCourseAPI,\n    onError: (error) => {\n      console.error('Error al eliminar curso:', error);\n    },\n  });\n};\n","/**\n * Configuraci贸n centralizada para el modo mock\n * \n * MOCK_MODE = false: usa el API real (QA, producci贸n)\n * MOCK_MODE = true: usa datos simulados (solo para desarrollo local si es necesario)\n */\nexport const MOCK_MODE = false;\n\n","import { useInfiniteQuery, useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport type {\n  CourseWithContactsResponse,\n  HttpIndividualNotification,\n  NotificationMetricsResponse,\n  NotificationParams,\n  NotificationResponse,\n  StudentWithContactsResponse,\n} from '../types/notification';\nimport type { ApiError } from '../types/apiError';\n\nconst getMetrics = async () => {\n  const { data } = await apiClient.get('/notifications/metrics');\n  return data;\n};\n\nconst getNotificationsFromSchool = async (params?: NotificationParams) => {\n  const defaultParams = { limit: 20, offset: 0 };\n\n  const { data } = await apiClient.get('/notifications/school', {\n    params: { ...defaultParams, ...params },\n  });\n\n  return data;\n};\n\nconst getNotificationById = async (id: number) => {\n  const { data } = await apiClient.get(`/notifications/${id}/preview`);\n  return data;\n};\n\nconst getCoursesWithContacts = async () => {\n  const { data } = await apiClient.get('/notifications/courses-with-contacts');\n  return data;\n};\n\nconst getStudentsWithContacts = async () => {\n  const { data } = await apiClient.get(`/notifications/students-with-contacts`);\n  return data;\n};\n\nexport const useGetNotificationsMetricsQuery = () => {\n  return useQuery<NotificationMetricsResponse, ApiError>({\n    queryKey: ['notifications', 'metrics'],\n    queryFn: getMetrics,\n    placeholderData: (prev) => prev,\n  });\n};\n\nexport const useGetNotificationsFromSchoolQuery = (params?: NotificationParams) => {\n  return useQuery<NotificationResponse, ApiError>({\n    queryKey: ['notifications', 'school', params],\n    queryFn: () => getNotificationsFromSchool(params),\n    placeholderData: (prev) => prev,\n  });\n};\n\nexport const useGetNotificationsFromSchoolInfiniteQuery = (\n  params?: Omit<NotificationParams, 'offset'> // Exclude offset since we'll manage it\n) => {\n  const limit = params?.limit || 20;\n  return useInfiniteQuery({\n    queryKey: ['notifications', 'school', 'infinite', params],\n    queryFn: ({ pageParam = 0 }) => {\n      return getNotificationsFromSchool({\n        limit,\n        ...params,\n        offset: pageParam,\n      });\n    },\n    getNextPageParam: (lastPage, allPages) => {\n      const total = lastPage?.total || 0;\n\n      // Calculate total items loaded so far\n      const totalLoadedItems = allPages.reduce((acc, page) => {\n        const pageData = page?.data || [];\n        return acc + pageData.length;\n      }, 0);\n\n      // If we've loaded fewer items than exist in DB, load more\n      if (totalLoadedItems < total) {\n        const nextOffset = totalLoadedItems;\n        return nextOffset;\n      }\n\n      return undefined;\n    },\n    initialPageParam: 0,\n  });\n};\n\nexport const useGetNotificationByIdQuery = (id: number) => {\n  return useQuery<HttpIndividualNotification, ApiError>({\n    queryKey: ['notifications', 'preview', id],\n    queryFn: () => getNotificationById(id),\n    placeholderData: (prev) => prev,\n    enabled: !!id,\n  });\n};\n\nexport const useGetCoursesWithContactsQuery = () => {\n  return useQuery<CourseWithContactsResponse[], ApiError>({\n    queryKey: ['notifications', 'courses-with-contacts'],\n    queryFn: getCoursesWithContacts,\n    placeholderData: (prev) => prev,\n  });\n};\n\nexport const useGetStudentsWithContactsQuery = () => {\n  return useQuery<StudentWithContactsResponse[], ApiError>({\n    queryKey: ['notifications', 'students-with-contacts'],\n    queryFn: getStudentsWithContacts,\n    placeholderData: (prev) => prev,\n  });\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport { type GetProvincesResponse } from '../types/province';\nimport { type ApiError } from '../types/apiError';\n\nconst getProvinces = async () => {\n  const { data } = await apiClient.get('/provinces');\n  return data;\n};\n\nexport const useGetProvincesQuery = () => {\n  return useQuery<GetProvincesResponse, ApiError>({\n    queryKey: ['provinces'],\n    queryFn: getProvinces,\n    placeholderData: (prev) => prev,\n  });\n};\n","import { useQuery, type UseQueryOptions } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport type { HttpIndividualStaffMember, StaffQueryParams, StaffResponse } from '../types/staff';\nimport { type ApiError } from '../types/apiError';\n\nconst getStaffAPI = async (params: StaffQueryParams = {}): Promise<StaffResponse> => {\n  const defaultParams = { page: 1, per_page: 10 };\n  const response = await apiClient.get<StaffResponse>('/staff', {\n    params: { ...defaultParams, ...params },\n  });\n  return response.data;\n};\n\nconst getStaffByIdAPI = async (id: number) => {\n  const response = await apiClient.get(`/staff/${id}`);\n  return response.data;\n};\n\nexport const useGetStaff = (\n  params?: StaffQueryParams,\n  options?: UseQueryOptions<StaffResponse, ApiError>\n) => {\n  const merged = { page: 1, per_page: 10, ...(params ?? {}) };\n\n  const queryKey = ['staff', merged.page, merged.per_page, merged.q ?? ''];\n\n  const placeholder: StaffResponse = {\n    current_page: merged.page,\n    data: [],\n    first_page_url: undefined,\n    last_page: undefined,\n    per_page: merged.per_page,\n    total: 0,\n  };\n\n  const defaultOptions = {\n    keepPreviousData: true,\n    placeholderData: placeholder,\n    staleTime: 60_000,\n    enabled: options?.enabled ?? true,\n  };\n\n  return useQuery<StaffResponse, ApiError>({\n    queryKey,\n    queryFn: () => getStaffAPI(merged),\n    ...defaultOptions,\n    ...options,\n  });\n};\n\nexport const useGetStaffById = (id: number) => {\n  return useQuery<HttpIndividualStaffMember, ApiError>({\n    queryKey: ['staff', id],\n    queryFn: () => getStaffByIdAPI(id),\n    enabled: !!id,\n  });\n};\n","import { useQuery, type UseQueryOptions } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport type {\n  HttpIndividualStudent,\n  StudentsQueryParams,\n  StudentsResponse,\n} from '../types/student';\nimport { type ApiError } from '../types/apiError';\nimport { type HttpIndividualContact, type StudentContact } from '../types/contact';\nimport { getMockStudentsStorage } from '../mutations/student';\nimport { getMockCoursesStorage } from '../mutations/course';\nimport { MOCK_MODE } from '../config/mock';\n\nconst getStudentsAPIMock = async (params: StudentsQueryParams = {}): Promise<StudentsResponse> => {\n  await new Promise((resolve) => setTimeout(resolve, 500));\n  \n  const students = getMockStudentsStorage();\n  const courses = getMockCoursesStorage();\n  \n  // Mapear estudiantes al formato esperado\n  const mappedData = students.map(s => {\n    const course = courses.find(c => c.id === s.student.course_id);\n    return {\n      id: s.id,\n      name: `${s.student.first_name} ${s.student.last_name}`,\n      dni: s.student.dni,\n      birth_date: s.student.birth_date instanceof Date ? s.student.birth_date.toISOString().split('T')[0] : s.student.birth_date,\n      course: course?.name || 'Sin curso',\n      contacts: 1,\n      contact_phone: s.contact.phone || '',\n      contact_email: s.contact.email || '',\n      contact_name: `${s.contact.first_name} ${s.contact.last_name}`,\n      is_active: s.is_active,\n    };\n  });\n  \n  // Aplicar b煤squeda si existe query\n  let filteredData = mappedData;\n  if (params.q) {\n    const searchTerm = params.q.toLowerCase();\n    filteredData = mappedData.filter(s => \n      s.name.toLowerCase().includes(searchTerm) ||\n      s.dni.toString().includes(searchTerm) ||\n      s.course.toLowerCase().includes(searchTerm) ||\n      s.contact_email.toLowerCase().includes(searchTerm)\n    );\n  }\n  \n  // Aplicar paginaci贸n\n  const page = params.page || 1;\n  const perPage = params.per_page || 10;\n  const startIndex = (page - 1) * perPage;\n  const paginatedData = filteredData.slice(startIndex, startIndex + perPage);\n  \n  return {\n    current_page: page,\n    data: paginatedData,\n    first_page_url: undefined,\n    last_page: Math.ceil(filteredData.length / perPage) || 1,\n    per_page: perPage,\n    total: filteredData.length,\n  };\n};\n\nconst getStudentByIdAPIMock = async (id: number) => {\n  await new Promise((resolve) => setTimeout(resolve, 300));\n  \n  return {\n    student: {\n      id,\n      first_name: 'Juan',\n      last_name: 'P茅rez',\n      dni: 12345678,\n      birth_date: new Date('2010-05-15'),\n      course_id: 1,\n    },\n    contact: {\n      first_name: 'Mar铆a',\n      last_name: 'P茅rez',\n      email: 'maria@example.com',\n      phone: '+54 9 11 1234-5678',\n    },\n  };\n};\n\nconst getStudentsAPI = async (params: StudentsQueryParams = {}): Promise<StudentsResponse> => {\n  if (MOCK_MODE) return getStudentsAPIMock(params);\n  \n  const defaultParams = { page: 1, per_page: 10 };\n  const response = await apiClient.get<StudentsResponse>('/students', {\n    params: { ...defaultParams, ...params },\n  });\n  return response.data;\n};\n\nconst getStudentByIdAPI = async (id: number) => {\n  if (MOCK_MODE) return getStudentByIdAPIMock(id);\n  \n  const response = await apiClient.get(`/students/${id}`);\n  return response.data;\n};\n\nexport const useGetStudents = (\n  params?: StudentsQueryParams,\n  options?: UseQueryOptions<StudentsResponse, ApiError>\n) => {\n  const merged = { page: 1, per_page: 10, ...(params ?? {}) };\n\n  const queryKey = ['students', merged.page, merged.per_page, merged.q ?? ''];\n\n  const placeholder: StudentsResponse = {\n    current_page: merged.page,\n    data: [],\n    first_page_url: undefined,\n    last_page: undefined,\n    per_page: merged.per_page,\n    total: 0,\n  };\n\n  const defaultOptions = {\n    keepPreviousData: true,\n    placeholderData: placeholder,\n    staleTime: 60_000,\n    enabled: options?.enabled ?? true,\n  };\n\n  return useQuery<StudentsResponse, ApiError>({\n    queryKey,\n    queryFn: () => getStudentsAPI(merged),\n    ...defaultOptions,\n    ...options,\n  });\n};\n\nexport const useGetStudentById = (id: number) => {\n  return useQuery<{ student: HttpIndividualStudent; contact: HttpIndividualContact }, ApiError>({\n    queryKey: ['students', id],\n    queryFn: () => getStudentByIdAPI(id),\n    enabled: !!id,\n  });\n};\n\n// ==================== GET STUDENT CONTACTS ====================\n\nconst getStudentContactsMock = async (studentId: number): Promise<StudentContact[]> => {\n  await new Promise((resolve) => setTimeout(resolve, 300));\n\n  const students = getMockStudentsStorage();\n  const student = students.find((s) => s.id === studentId);\n\n  if (!student) {\n    return [];\n  }\n\n  return [\n    {\n      id: 1,\n      name: `${student.contact.first_name} ${student.contact.last_name}`,\n      email: student.contact.email,\n      phone: student.contact.phone,\n      is_active: true,\n    },\n  ];\n};\n\nconst getStudentContactsAPI = async (studentId: number): Promise<StudentContact[]> => {\n  if (MOCK_MODE) return getStudentContactsMock(studentId);\n\n  const response = await apiClient.get<StudentContact[]>(`/students/${studentId}/contacts`);\n  return response.data;\n};\n\nexport const useGetStudentContacts = (studentId: number | null) => {\n  return useQuery<StudentContact[], ApiError>({\n    queryKey: ['students', studentId, 'contacts'],\n    queryFn: () => getStudentContactsAPI(studentId!),\n    enabled: !!studentId,\n  });\n};\n","import { useMutation } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport { type ApiError } from '../types/apiError';\nimport { type HttpIndividualStudent } from '../types/student';\nimport { type HttpIndividualContact } from '../types/contact';\nimport type {\n  ImportCsvRequest,\n  ImportCsvResponse,\n  ImportPreviewRequest,\n  ImportPreviewResponse,\n  ImportConfirmRequest,\n  ImportConfirmResponse,\n  CsvRowWithStatus,\n} from '../types/csv';\nimport { MOCK_MODE } from '../config/mock';\nconst MOCK_STUDENTS_STORAGE_KEY = 'mockStudentsStorage';\n\ninterface StoredStudent {\n  id: number;\n  student: HttpIndividualStudent;\n  contact: HttpIndividualContact;\n  is_active: boolean;\n}\n\nconst getMockStudentsFromStorage = (): StoredStudent[] => {\n  try {\n    const stored = localStorage.getItem(MOCK_STUDENTS_STORAGE_KEY);\n    return stored ? JSON.parse(stored) : [];\n  } catch {\n    return [];\n  }\n};\n\nconst saveMockStudentsToStorage = (students: StoredStudent[]) => {\n  try {\n    localStorage.setItem(MOCK_STUDENTS_STORAGE_KEY, JSON.stringify(students));\n  } catch (error) {\n    console.error('Error guardando estudiantes en localStorage:', error);\n  }\n};\n\nconst toggleContactAPIMock = async ({\n  id,\n  is_active,\n}: {\n  id: number;\n  is_active: boolean;\n}): Promise<void> => {\n  await new Promise((resolve) => setTimeout(resolve, 500));\n  \n  const students = getMockStudentsFromStorage();\n  const student = students.find(s => s.id === id);\n  if (student) {\n    student.is_active = is_active;\n    saveMockStudentsToStorage(students);\n  }\n  console.log(`И Mock: Toggle contact ${id} to ${is_active}`);\n};\n\nconst createStudentWithContactAPIMock = async (\n  studentData: HttpIndividualStudent,\n  contactData: HttpIndividualContact\n): Promise<void> => {\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  \n  const students = getMockStudentsFromStorage();\n  const newStudent: StoredStudent = {\n    id: Math.floor(Math.random() * 10000) + 1,\n    student: { ...studentData, id: Math.floor(Math.random() * 10000) + 1 },\n    contact: contactData,\n    is_active: true,\n  };\n  \n  students.push(newStudent);\n  saveMockStudentsToStorage(students);\n  console.log('И Mock: Estudiante creado:', newStudent);\n};\n\nconst updateStudentAPIMock = async (id: number, course_id: number, phone: string) => {\n  await new Promise((resolve) => setTimeout(resolve, 500));\n  \n  const students = getMockStudentsFromStorage();\n  const student = students.find(s => s.id === id);\n  if (student) {\n    student.student.course_id = course_id;\n    student.contact.phone = phone;\n    saveMockStudentsToStorage(students);\n  }\n  console.log(`И Mock: Estudiante ${id} actualizado con curso ${course_id}`);\n};\n\nconst importCsvAPIMock = async (data: ImportCsvRequest): Promise<ImportCsvResponse> => {\n  await new Promise((resolve) => setTimeout(resolve, 2000));\n  console.log('И Mock: CSV importado:', data.file.name);\n  return {\n    message: 'Archivo procesado exitosamente (mock)',\n    students_created: 5,\n    contacts_created: 5,\n    summary: {\n      total_rows: 10,\n      students: 5,\n      contacts: 5,\n    },\n  };\n};\n\nexport const getMockStudentsStorage = () => getMockStudentsFromStorage();\n\nconst toggleContactAPI = async ({\n  id,\n  is_active,\n}: {\n  id: number;\n  is_active: boolean;\n}): Promise<void> => {\n  if (MOCK_MODE) return toggleContactAPIMock({ id, is_active });\n  await apiClient.patch(`students/${id}/contacts/toggle`, { is_active });\n};\n\nconst createStudentWithContactAPI = async (\n  studentData: HttpIndividualStudent,\n  contactData: HttpIndividualContact\n): Promise<void> => {\n  if (MOCK_MODE) return createStudentWithContactAPIMock(studentData, contactData);\n  await apiClient.post('/students', { student: studentData, contact: contactData });\n};\n\nconst updateStudentAPI = async (id: number, course_id: number, phone: string) => {\n  if (MOCK_MODE) return updateStudentAPIMock(id, course_id, phone);\n  await apiClient.patch(`/students/${id}`, { course_id, phone });\n};\n\nconst importCsvAPI = async (data: ImportCsvRequest): Promise<ImportCsvResponse> => {\n  if (MOCK_MODE) return importCsvAPIMock(data);\n  \n  const formData = new FormData();\n  formData.append('file', data.file);\n\n  const response = await apiClient.post('/students/import', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n\n  return response.data;\n};\n\nexport const useToggleContact = () => {\n  return useMutation<void, ApiError, { id: number; is_active: boolean }>({\n    mutationFn: toggleContactAPI,\n    onSuccess: () => {},\n    onError: (error) => {\n      console.error('Error en cambiar el estatus del contacto del estudiante:', error);\n    },\n  });\n};\n\nexport const useCreateStudentWithContact = () => {\n  return useMutation<\n    void,\n    ApiError,\n    { studentData: HttpIndividualStudent; contactData: HttpIndividualContact }\n  >({\n    mutationFn: ({ studentData, contactData }) =>\n      createStudentWithContactAPI(studentData, contactData),\n    onSuccess: () => {},\n    onError: (error) => {\n      console.error('Error en crear estudiante con contacto:', error);\n    },\n  });\n};\n\nexport const useUpdateStudent = () => {\n  return useMutation<void, ApiError, { id: number; course_id: number; phone: string }>({\n    mutationFn: ({ id, course_id, phone }) => updateStudentAPI(id, course_id, phone),\n    onSuccess: () => {},\n    onError: (error) => {\n      console.error('Error en actualizar estudiante:', error);\n    },\n  });\n};\n\nexport const useImportCsv = () => {\n  return useMutation<ImportCsvResponse, ApiError, ImportCsvRequest>({\n    mutationFn: importCsvAPI,\n    onSuccess: () => {},\n    onError: (error) => {\n      console.error('Error al importar CSV:', error);\n    },\n  });\n};\n\n// ============================================\n// New Import Preview/Confirm API\n// ============================================\n\nconst importPreviewAPIMock = async (\n  _data: ImportPreviewRequest\n): Promise<ImportPreviewResponse> => {\n  await new Promise((resolve) => setTimeout(resolve, 1500));\n  console.log('И Mock: CSV preview');\n\n  // Simular algunas filas con y sin errores\n  const mockRows: CsvRowWithStatus[] = [\n    {\n      dni: '12345678',\n      nombre: 'Juan',\n      apellido: 'Perez',\n      fecha_nacimiento: '15/03/2015',\n      curso: '1ro A',\n      nombre_contacto: 'Maria',\n      apellido_contacto: 'Perez',\n      email_contacto: 'maria@email.com',\n      telefono_contacto: '1123456789',\n      _rowIndex: 1,\n      _errors: [],\n      _isValid: true,\n    },\n    {\n      dni: '87654321',\n      nombre: 'Ana',\n      apellido: 'Garcia',\n      fecha_nacimiento: '22/07/2016',\n      curso: '1ro A',\n      nombre_contacto: 'Pedro',\n      apellido_contacto: 'Garcia',\n      email_contacto: 'pedro@email.com',\n      telefono_contacto: '1198765432',\n      _rowIndex: 2,\n      _errors: [],\n      _isValid: true,\n    },\n    {\n      dni: '1234',\n      nombre: 'Error',\n      apellido: 'Test',\n      fecha_nacimiento: '01/01/2015',\n      curso: '2do B',\n      nombre_contacto: 'Test',\n      apellido_contacto: 'Contact',\n      email_contacto: 'invalid-email',\n      telefono_contacto: '123',\n      _rowIndex: 3,\n      _errors: ['DNI debe tener 7-8 d铆gitos num茅ricos', 'Email inv谩lido', 'Tel茅fono debe tener 10 d铆gitos'],\n      _isValid: false,\n    },\n  ];\n\n  return {\n    success: true,\n    rows: mockRows,\n    summary: {\n      total_rows: 3,\n      valid_rows: 2,\n      error_rows: 1,\n      new_students: 2,\n      new_contacts: 2,\n      existing_contacts: 0,\n      new_courses: 1,\n      existing_courses: 0,\n    },\n  };\n};\n\nconst importPreviewAPI = async (\n  data: ImportPreviewRequest\n): Promise<ImportPreviewResponse> => {\n  if (MOCK_MODE) return importPreviewAPIMock(data);\n\n  const formData = new FormData();\n  formData.append('file', data.file);\n\n  const response = await apiClient.post('/students/import/preview', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n\n  return response.data;\n};\n\nconst importConfirmAPIMock = async (\n  _data: ImportConfirmRequest\n): Promise<ImportConfirmResponse> => {\n  await new Promise((resolve) => setTimeout(resolve, 2000));\n  console.log('И Mock: CSV confirm import');\n\n  return {\n    success: true,\n    message: 'Importaci贸n completada exitosamente (mock)',\n    summary: {\n      students_created: 2,\n      contacts_created: 2,\n      contacts_linked: 0,\n      courses_created: 1,\n      courses_reused: 0,\n      invites_queued: 2,\n    },\n  };\n};\n\nconst importConfirmAPI = async (\n  data: ImportConfirmRequest\n): Promise<ImportConfirmResponse> => {\n  if (MOCK_MODE) return importConfirmAPIMock(data);\n\n  const response = await apiClient.post('/students/import/confirm', data);\n  return response.data;\n};\n\n/**\n * Hook para subir CSV y obtener preview con validaci贸n\n */\nexport const useImportPreview = () => {\n  return useMutation<ImportPreviewResponse, ApiError, ImportPreviewRequest>({\n    mutationFn: importPreviewAPI,\n    onError: (error) => {\n      console.error('Error al obtener preview de CSV:', error);\n    },\n  });\n};\n\n/**\n * Hook para confirmar la importaci贸n con filas editadas\n */\nexport const useImportConfirm = () => {\n  return useMutation<ImportConfirmResponse, ApiError, ImportConfirmRequest>({\n    mutationFn: importConfirmAPI,\n    onError: (error) => {\n      console.error('Error al confirmar importaci贸n:', error);\n    },\n  });\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../config/axios';\nimport { type ApiError } from '../types/apiError';\nimport { type GetSchoolsResponse } from '../types/superadminDashboard';\n\nconst getSchools = async (page: number, perPage: number) => {\n  const { data } = await apiClient.get('/schools', {\n    params: { page, per_page: perPage },\n  });\n  return data;\n};\n\nexport const useGetSchoolsQuery = (page: number, perPage: number) => {\n  return useQuery<GetSchoolsResponse, ApiError>({\n    queryKey: ['schools', page, perPage],\n    queryFn: () => getSchools(page, perPage),\n    placeholderData: (prev) => prev,\n  });\n};\n"],"mappings":"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","names":["useQuery","useQuery","useQuery","useQuery","useQuery","useQuery","useQuery","useMutation","useQuery","useQuery","useQuery"]}